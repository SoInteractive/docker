sudo: required
language: python
#cache: pip
services:
  - docker
install:
  - pip install molecule==1.25.0 docker
script:
  - molecule syntax
  - molecule create
  - molecule converge
  - molecule idempotence
  - molecule verify
#before_deploy:
#  - git config --global user.email "builds@travis-ci.com"
#  - git config --global user.name "Travis CI"
#  - export GIT_TAG=$([[ "$TRAVIS_COMMIT_MESSAGE" == "Merge pull request.*/feature.*" ]] && git describe --abbrev=0 | awk -F '.' '{print $1"."($2+1)"."0}' || git describe --abbrev=0 | awk -F '.' '{print $1"."$2"."($3+1)}')
#  - git tag $GIT_TAG -a -m "Generated tag from TravisCI for build $TRAVIS_BUILD_NUMBER"
#deploy:
#- provider: script
#    skip_cleanup: true
#    script: git push --tags
#    on:
#      branch: master
#branches:
#  except:
#    - /^\d+\.\d+\.\d+$/
#notifications:
#  webhooks: https://galaxy.ansible.com/api/v1/notifications/
